{
  /**
   * Application configuration section
   * http://pm2.keymetrics.io/docs/usage/application-declaration/
   */
  "apps": [
    {
      "name": "Papyruth-web",
      "script": "server.js",
      "exec_mode": "fork",
      "log_date_format": "YYYY-MM-DD HH:mm Z",
      "env": {
        "COMMON_VARIABLE": "true",
        "NODE_ENV": "dev",
        "PORT": "8888"
      },
      "env_production" : {
        "NODE_ENV": "production",
        "PORT": "8888"
      }
    }
  ],

  /**
   * Deployment section
   * http://pm2.keymetrics.io/docs/usage/deployment/
   */
  "deploy": {
    "production": {
      "key": "c:\\papyruth-web.pem",
      "user": "ec2-user",
      "host": ["52.69.157.61", "52.69.89.84"],
      "ref" : "origin/master",
      "repo": "git@git.papyruth.com:montserrat/web-react.git",
      "path": "/home/ec2-user/production",
      "post-deploy": "npm install ; npm run build ; pm2 startOrRestart ecosystem.json --env production",
      "pre-deploy-local": "echo 'Deploying'",
      "env": {
        "NODE_ENV": "production",
        "PORT": "8888"
      }
    },
    "staging": {
      "key": "c:\\papyruth-web.pem",
      "user": "ec2-user",
      "host": "52.192.183.37",
      "ref" : "origin/develop",
      "repo": "git@git.papyruth.com:montserrat/web-react.git",
      "path": "/home/ec2-user/staging",
      "post-deploy": "npm install ; npm run build-dev ; pm2 startOrRestart ecosystem.json --env dev",
      "env": {
        "NODE_ENV": "dev",
        "PORT": "8888"
      }
    }
  }
}
